<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Note Reading Practice Application</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .animate-pulse {
            animation: pulse 2s infinite;
        }
        
        .animate-bounce {
            animation: bounce 1s infinite;
        }
        
        .note-hint {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        
        .note-hint.show {
            opacity: 1;
        }
        
        button {
            transition: all 0.2s ease-in-out;
        }
        
        button:hover {
            transform: scale(1.05);
        }
        
        .staff-container {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
    </style>
</head>
<body>
    <div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-4xl w-full">
            <div class="text-center mb-8">
                <div class="flex items-center justify-center gap-3 mb-4">
                    <!-- Music icon -->
                    <svg class="text-blue-600" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 18V5l12-2v13"></path>
                        <circle cx="6" cy="18" r="3"></circle>
                        <circle cx="18" cy="16" r="3"></circle>
                    </svg>
                    <h1 class="text-3xl font-bold text-gray-800">Music Note Reader</h1>
                </div>
                <p class="text-gray-600 text-lg">Practice reading musical notes on the staff</p>
            </div>

            <!-- Musical Staff -->
            <div class="flex justify-center mb-8">
                <svg width="600" height="280" viewBox="0 0 600 280" class="border rounded-lg staff-container">
                    <!-- Staff lines -->
                    <line x1="50" y1="40" x2="550" y2="40" stroke="#374151" stroke-width="2"/>
                    <line x1="50" y1="80" x2="550" y2="80" stroke="#374151" stroke-width="2"/>
                    <line x1="50" y1="120" x2="550" y2="120" stroke="#374151" stroke-width="2"/>
                    <line x1="50" y1="160" x2="550" y2="160" stroke="#374151" stroke-width="2"/>
                    <line x1="50" y1="200" x2="550" y2="200" stroke="#374151" stroke-width="2"/>
                    
                    <!-- Treble clef -->
                    <text x="70" y="170" font-size="60" font-family="serif" fill="#1e40af" text-anchor="middle">ùÑû</text>

                    <!-- Ledger line (will be shown/hidden by JavaScript) -->
                    <line id="ledger-line" x1="290" y1="20" x2="310" y2="20" stroke="#374151" stroke-width="2" style="display: none;"/>

                    <!-- Note group (will be positioned by JavaScript) -->
                    <g id="note-group" style="display: none;">
                        <ellipse id="note-head" cx="300" cy="120" rx="12" ry="9" fill="#000" transform="rotate(-15 300 120)" class="animate-pulse"/>
                        <line id="note-stem" x1="312" y1="120" x2="312" y2="60" stroke="#000" stroke-width="2"/>
                    </g>

                    <!-- Hint display -->
                    <g id="hint-group" class="note-hint">
                        <text id="hint-alphabet" x="300" y="250" font-size="20" font-weight="bold" fill="#059669" text-anchor="middle"></text>
                        <text id="hint-solfege" x="300" y="270" font-size="18" fill="#059669" text-anchor="middle" font-style="italic"></text>
                    </g>
                </svg>
            </div>

            <!-- Control buttons -->
            <div class="flex justify-center gap-4 flex-wrap">
                <button id="generate-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg flex items-center gap-2">
                    <!-- Rotate icon -->
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
                        <path d="M21 3v5h-5"></path>
                        <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
                        <path d="M3 21v-5h5"></path>
                    </svg>
                    Generate Random Note
                </button>
                
                <button id="hint-btn" class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg flex items-center gap-2" style="display: none;">
                    <!-- Help icon -->
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                        <path d="M12 17h.01"></path>
                    </svg>
                    Show Hint
                </button>
                
                <button id="clear-btn" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg" style="display: none;">
                    Clear Note
                </button>
            </div>

            <!-- Instructions -->
            <div class="mt-8 p-6 bg-blue-50 rounded-lg">
                <h3 class="text-lg font-semibold text-blue-800 mb-2">How to use:</h3>
                <ul class="text-blue-700 space-y-1">
                    <li>1. Click "Generate Random Note" to place a note on the staff</li>
                    <li>2. Try to identify the note name</li>
                    <li>3. Click "Show Hint" to see both alphabet and solfege names</li>
                    <li>4. Click "Clear Note" to start over</li>
                </ul>
                <div class="mt-4 p-4 bg-white rounded-lg border border-blue-200">
                    <h4 class="font-semibold text-blue-800 mb-2">Note Systems:</h4>
                    <div class="grid grid-cols-2 gap-4 text-sm text-blue-700">
                        <div>
                            <strong>Alphabet:</strong> C, D, E, F, G, A, B
                        </div>
                        <div>
                            <strong>Solfege:</strong> Do, Re, Mi, Fa, Sol, La, Si
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Note positions data
        const notePositions = [
            { id: 1, name: 'G', solfege: 'Sol', yPosition: 20, isOnLine: false }, // Position 1: Sol above line 1
            { id: 2, name: 'F', solfege: 'Fa', yPosition: 40, isOnLine: true },   // Position 2: Fa on line 1
            { id: 3, name: 'E', solfege: 'Mi', yPosition: 60, isOnLine: false },  // Position 3: Mi between lines 1-2
            { id: 4, name: 'D', solfege: 'Re', yPosition: 80, isOnLine: true },   // Position 4: Re on line 2
            { id: 5, name: 'C', solfege: 'Do', yPosition: 100, isOnLine: false }, // Position 5: Do between lines 2-3
            { id: 6, name: 'B', solfege: 'Ti', yPosition: 120, isOnLine: true },  // Position 6: Ti on line 3 (middle)
            { id: 7, name: 'A', solfege: 'La', yPosition: 140, isOnLine: false }, // Position 7: La between lines 3-4
            { id: 8, name: 'G', solfege: 'Sol', yPosition: 160, isOnLine: true }, // Position 8: Sol on line 4
            { id: 9, name: 'F', solfege: 'Fa', yPosition: 180, isOnLine: false }, // Position 9: Fa between lines 4-5
            { id: 10, name: 'E', solfege: 'Mi', yPosition: 200, isOnLine: true }, // Position 10: Mi on line 5
            { id: 11, name: 'D', solfege: 'Re', yPosition: 220, isOnLine: false }, // Position 11: Re below line 5
        ];

        // State variables
        let currentNote = null;
        let showHint = false;

        // DOM elements
        const generateBtn = document.getElementById('generate-btn');
        const hintBtn = document.getElementById('hint-btn');
        const clearBtn = document.getElementById('clear-btn');
        const noteGroup = document.getElementById('note-group');
        const noteHead = document.getElementById('note-head');
        const noteStem = document.getElementById('note-stem');
        const ledgerLine = document.getElementById('ledger-line');
        const hintGroup = document.getElementById('hint-group');
        const hintAlphabet = document.getElementById('hint-alphabet');
        const hintSolfege = document.getElementById('hint-solfege');

        // Generate random note function
        function generateRandomNote() {
            const randomPosition = Math.floor(Math.random() * 11) + 1; // Generate random number 1-11
            currentNote = notePositions.find(note => note.id === randomPosition);
            showHint = false;
            
            // Update note position
            noteHead.setAttribute('cy', currentNote.yPosition);
            noteHead.setAttribute('transform', `rotate(-15 300 ${currentNote.yPosition})`);
            
            // Handle stem and animation for edge notes (positions 1 and 11)
            if (currentNote.id === 1 || currentNote.id === 11) {
                // Remove flashing animation and hide stem for edge notes
                noteHead.classList.remove('animate-pulse');
                noteStem.style.display = 'none';
            } else {
                // Show stem and add flashing animation for regular notes
                noteHead.classList.add('animate-pulse');
                noteStem.style.display = 'block';
                noteStem.setAttribute('y1', currentNote.yPosition);
                noteStem.setAttribute('y2', currentNote.yPosition - 60);
            }
            
            // Show/hide ledger line
            if (currentNote.id === 1 || currentNote.id === 11) {
                ledgerLine.setAttribute('y1', currentNote.yPosition);
                ledgerLine.setAttribute('y2', currentNote.yPosition);
                ledgerLine.style.display = 'block';
            } else {
                ledgerLine.style.display = 'none';
            }
            
            // Show note and buttons
            noteGroup.style.display = 'block';
            hintBtn.style.display = 'flex';
            clearBtn.style.display = 'block';
            
            // Hide hint
            hintGroup.classList.remove('show');
        }

        // Show hint function
        function showHintHandler() {
            if (currentNote) {
                showHint = true;
                hintAlphabet.textContent = currentNote.name;
                hintSolfege.textContent = `(${currentNote.solfege})`;
                hintGroup.classList.add('show');
                hintGroup.classList.add('animate-bounce');
            }
        }

        // Reset note function
        function resetNote() {
            currentNote = null;
            showHint = false;
            
            // Hide note and buttons
            noteGroup.style.display = 'none';
            hintBtn.style.display = 'none';
            clearBtn.style.display = 'none';
            ledgerLine.style.display = 'none';
            
            // Hide hint
            hintGroup.classList.remove('show');
            hintGroup.classList.remove('animate-bounce');
        }

        // Event listeners
        generateBtn.addEventListener('click', generateRandomNote);
        hintBtn.addEventListener('click', showHintHandler);
        clearBtn.addEventListener('click', resetNote);
    </script>
</body>
</html>